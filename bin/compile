#!/bin/sh

indent() {
  sed -u 's/^/       /'
}

echo "-----> Found a .billslimbinaries"

# if .billslimbinaries is empty, abort the build
if [ ! -s $1/.billslimbinaries ]; then
  echo ".billslimbinaries was empty. Skipping." | indent
  exit 0
fi

cd $1

while read url; do
  if [ -n "$url" ]; then # incase ensure_newline_at_eof_on_save is enabled
    echo BillslimBinaryBuild $url | indent
# https://github.com/User/repo/tarball/master
    wget --no-check-certificate $url | tar xpvf master
  fi
done < .billslimbinaries

